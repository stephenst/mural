doctype
html.no-js(lang='en', ng-app="mural", class="mural menu__opened")
    head
        meta(charset='utf-8')
        meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
        block variables
        title(ng-bind="'Mural - ' + section") Mural
        meta(name='description', content='')
        meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no')

        link(rel='stylesheet', href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css')

        link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css')
        link(rel='stylesheet', href='_assets/bower/prism/themes/prism.css')
        link(href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,300,600,700', rel='stylesheet')

        // Your CSS File
        link(rel='stylesheet', href='_assets/css/main.css')
        // Your CSS File


        block meta

    body
        .navbar.navbar-inverse.navbar-fixed-top
            div.navbar-header
                button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-collapse')
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                a.navbar-brand(href='#') NetIQ Developer Guides
            div.collapse.navbar-collapse
                ul.nav.navbar-nav
                    li
                        a(href='/mural/api/index.html') API
                    li
                        a(href='/mural/styles/index.html') Styles
                    li(ng-class="{ active: isActive('/')}")
                        a(href="/mural/patterns/index.html") Design Patterns
                ul.nav.navbar-nav(ng-repeat="readme in readmes")
                    li(ng-repeat="element in readme.data",
                        ng-class="{ 'active': isActive('/' + readme.slug + '/' + element.slug) }", once-show="element.children.length")
                        a(once-href="'#!/' + readme.slug + '/' + element.slug")
                            | {{ element.name | dashToSpace | capitalize:true }}
                        // a(href="{{ readme.data[0].path }}") {{ readme.name }}

        div#wrapper
            nav#sidebar-wrapper
                ul.nav.sidebar-nav
                    li.nav.sidebar-brand
                        h3 Introduction
                    li.nav(ng-class="{active: section=='Overview'}", ng-if="!currentReadMe")
                        a(href="#!/")
                            | Overview
                        div(ng-repeat="style in styles")
                            ul.nav
                                li.nav
                                    h3(once-text="style.name")
                                li.nav(ng-repeat="element in style.data", ng-class="{'active': element.slug == sectionSlug}", once-show="element.children.length")
                                    a(once-href="'#!/'+style.slug+'/'+element.slug", once-text="element.name")
                    li.nav(ng-class="{active: section=='Overview'}", ng-if="currentReadMe")
                        a(href="#!/")
                            | Overview
                        div(ng-repeat="readme in currentReadMe.children")
                            ul.nav
                                li.nav
                                    h3(once-text="readme.name")
                                li.nav(ng-repeat="element in readme.children", ng-class="{'active': element.slug == sectionSlug}", once-show="readme.children.length")
                                    //- a(once-href="'#!/'+style.slug+'/'+element.slug", once-text="element.name")
                                    a(ng-click="scrollTo(element.name)",
                                        once-text="readme.name",
                                        ng-class="{active: anchor(readme.name) == subSection}")


            // Content
            div.page-content-wrapper
                // / Menu
                header.navbar.navbar-top(ng-controller="headerController")
                    div.navbar-header
                        button.navbar-nav.btn.btn-unstyled.btn-toggle(ng-click="toggleMenu($event)")
                            em.fa.fa-bars
                        h3.navbar-brand(ng-bind="section")
                    div.navbar-form.navbar-right
                        div.input-group
                            input.form-control(type="text",
                                ng-model="selected",
                                typeahead="pattern.url as pattern.value for pattern in globalPatterns | filter:$viewValue | limitTo:8",
                                name="section")
                            div.input-group-btn(action="")
                                button.btn.btn-default
                                    em.fa.fa-search.fa-lg

                block content

                footer
                    p
                        | Documentation generated by Mural.


        //- TODO (@testephens) Autoinsert this nonsense.

        // jQuery
        // script(src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.0/jquery.min.js")
        script(src="_assets/bower/jquery/jquery.js")
        // jQuery

        // Angular
        script(src="_assets/bower/angular/angular.min.js")
        script(src="_assets/bower/angular-route/angular-route.min.js")

        // Parsers
        script(src="_assets/bower/js-yaml/js-yaml.js")
        script(src="_assets/bower/marked/lib/marked.js")

        // PrismJS code highlighter
        script(src="_assets/bower/prism/prism.js")
        script(src="_assets/bower/highlight/src/highlight.js")

        // Patterns
        script(src="_assets/bower/angular-once/once.js")
        script(src="components/mural_app/controllers.js")
        script(src="components/mural_app/markdown/markdown.module.js")
        script(src="components/mural_app/markdown/markdown.compile.directive.js")
        script(src="components/mural_app/markdown/markdown.preview-and-markup.directive.js")
        script(src="components/mural_app/markdown/markdown.raw-include.directive.js")
        script(src="components/mural_app/filters.js")
        script(src="components/mural_app/services.js")
        script(src="components/mural_app/app.js")
        // / Patterns

        // Autocomplete
        script(src="_assets/bower/angular-bootstrap/ui-bootstrap-tpls.js")

        // Sticky scrollspy
        script(src="_assets/bower/ngSticky/dist/sticky.min.js")
